<mat-card class="message-card" [ngClass]="{'user': message.sender === 'user', 'bot': message.sender === 'bot'}">
  <mat-card-content class="message-content">
    <div class="message-icons">
      <mat-icon class="message-icon" *ngIf="message.sender === 'user'">account_circle</mat-icon>
      <mat-icon class="message-icon" *ngIf="message.sender === 'bot' && !message.isLoading">contact_support</mat-icon>
      <mat-icon (click)="addPrompt.emit(message)"
        *ngIf="message.sender === 'user' && !message.isPrompt">add_circle_outline</mat-icon>
      <mat-icon (click)="regenerateResponse.emit()"
        *ngIf="message.sender === 'user' && message.isLast">refresh</mat-icon>
      <mat-spinner *ngIf="message.isLoading" [diameter]="24"></mat-spinner>
    </div>
    <markdown lineHighlight lineNumbers clipboard [data]="message.text"></markdown>
  </mat-card-content>
</mat-card>